{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { IOEndpoint, IOOptions, IOPromise } from 'type-r'\n\nexport function create(){\n    return new AttributesEndpoint();\n}\n\nexport { create as attributesIO };\n\nexport class AttributesEndpoint implements IOEndpoint {\n    create( json, options : IOOptions ) : IOPromise<any> {\n        throw new Error( 'Method is not supported.' );        \n    }\n\n    update( id, json, options : IOOptions ) : IOPromise<any> {\n        throw new Error( 'Method is not supported.' );        \n    }\n\n    read( id, options : IOOptions, record ) : IOPromise<any> {\n        const names = record.keys().filter( name => record[ name ] && record[ name ].fetch ),\n            promises = names.map( name => record[ name ].fetch( options ) ),\n            promise : IOPromise<any> = Promise.all( promises ).then( () => {} );\n\n        promise.abort = function(){\n            promises.forEach( x => x.abort && x.abort() );\n        }\n\n        return promise;\n    }\n\n    destroy( id, options : IOOptions ) : IOPromise<any> {\n        throw new Error( 'Method is not supported.' );        \n    }\n\n    list( options? : IOOptions ) : IOPromise<any> {\n        throw new Error( 'Method is not supported.' );\n    }\n\n    subscribe( events ) : any {}\n    unsubscribe( events) : any {}\n}\n\ndeclare var Promise;"],"names":["create","AttributesEndpoint","json","options","Error","id","record","promises","keys","filter","name","fetch","map","promise","Promise","all","then","abort","forEach","x","events"],"mappings":"wMAEgBA,IACZ,OAAO,IAAIC,mBAKf,cA+BA,OA9BIA,mBAAA,SAAQC,EAAMC,GACV,MAAM,IAAIC,MAAO,6BAGrBH,mBAAA,SAAQI,EAAIH,EAAMC,GACd,MAAM,IAAIC,MAAO,6BAGrBH,iBAAA,SAAMI,EAAIF,EAAqBG,GAC3B,IACIC,EADUD,EAAOE,OAAOC,OAAQ,SAAAC,GAAQ,OAAAJ,EAAQI,IAAUJ,EAAQI,GAAOC,QACxDC,IAAK,SAAAF,GAAQ,OAAAJ,EAAQI,GAAOC,MAAOR,KACpDU,EAA2BC,QAAQC,IAAKR,GAAWS,KAAM,cAM7D,OAJAH,EAAQI,MAAQ,WACZV,EAASW,QAAS,SAAAC,GAAK,OAAAA,EAAEF,OAASE,EAAEF,WAGjCJ,GAGXZ,oBAAA,SAASI,EAAIF,GACT,MAAM,IAAIC,MAAO,6BAGrBH,iBAAA,SAAME,GACF,MAAM,IAAIC,MAAO,6BAGrBH,sBAAA,SAAWmB,KACXnB,wBAAA,SAAamB"}
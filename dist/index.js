!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("underscore"),require("jquery")):"function"==typeof define&&define.amd?define(["underscore","jquery"],e):"object"==typeof exports?exports.Nested=e(require("underscore"),require("jquery")):t.Nested=e(t._,t.$)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=19)}([function(t,e,n){"use strict";var r=n(7);n.d(e,"m",function(){return r});var i=n(10);n.d(e,"d",function(){return i.a}),n.d(e,"e",function(){return i.b}),n.d(e,"f",function(){return i.c}),n.d(e,"g",function(){return i.d}),n.d(e,"h",function(){return i.e}),n.d(e,"j",function(){return i.f}),n.d(e,"k",function(){return i.g}),n.d(e,"l",function(){return i.h});var o=n(21);n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return o.b}),n.d(e,"c",function(){return o.c});var s=n(11);n.d(e,"i",function(){return s}),Object.extend=function(t,e){return i.a.extend(t,e)},Object.assign||(Object.assign=r.assign),Object.log=r.log},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return p});var r,i=n(0),o=n(22),s=n(12),u=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=(i.m.assign,i.i.trigger2,i.i.trigger3),c=i.i.on,f=i.i.off;!function(t){t[t.share=1]="share",t[t.listen=2]="listen",t[t.persistent=4]="persistent"}(r||(r={}));var h=l=function(){function t(t){this._events=void 0,this._changeToken={},this._transaction=!1,this._isDirty=null,this._owner=void 0,this._ownerKey=void 0,this._validationError=void 0,this.cid=this.cidPrefix+t}return t.onExtend=function(t){t.create===this.create&&(this.create=l.create)},t.create=function(t,e){return new this(t,e)},t.prototype.dispose=function(){this._disposed||(this._owner=void 0,this._ownerKey=void 0,this.off(),this.stopListening(),this._disposed=!0)},t.prototype.initialize=function(){},t.prototype.onChanges=function(t,e){c(this,this._changeEventName,t,e)},t.prototype.offChanges=function(t,e){f(this,this._changeEventName,t,e)},t.prototype.listenToChanges=function(t,e){this.listenTo(t,t._changeEventName,e)},t.prototype.transaction=function(t,e){void 0===e&&(e={});var n=p.begin(this),r=t.call(this,this);r&&this.set(r),n&&p.commit(this)},t.prototype.updateEach=function(t,e){var n=p.begin(this);this.each(t),n&&p.commit(this)},t.prototype.set=function(t,e){if(t){var n=this._createTransaction(t,e);n&&n.commit()}return this},t.prototype.assignFrom=function(t){return this.set(t.__inner_state__||t,{merge:!0})},t.prototype.parse=function(t,e){return t},t.prototype.deepGet=function(t){return Object(s.b)(this,t,function(t,e){return t.get?t.get(e):t[e]})},t.prototype.getOwner=function(){return this._owner},t.prototype.getStore=function(){var t=this._owner;return t?t.getStore():this._defaultStore},t.prototype.map=function(t,e){var n=[],r=void 0!==e?function(n,r){return t.call(e,n,r)}:t;return this.each(function(t,e){var i=r(t,e);void 0!==i&&n.push(i)}),n},t.prototype.mapObject=function(t,e){var n={};return this.each(function(e,r){var i=t(e,r);void 0!==i&&(n[r]=i)}),n},Object.defineProperty(t.prototype,"validationError",{get:function(){var t=this._validationError||(this._validationError=new o.a(this));return t.length?t:null},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){},t.prototype.getValidationError=function(t){var e=this.validationError;return(t?e&&e.nested[t]:e)||null},t.prototype.deepValidationError=function(t){return Object(s.b)(this,t,function(t,e){return t.getValidationError(e)})},t.prototype.eachValidationError=function(t){var e=this.validationError;e&&e.eachError(t,this)},t.prototype.isValid=function(t){return!this.getValidationError(t)},t.prototype.valueOf=function(){return this.cid},t.prototype.toString=function(){return this.cid},t.prototype.getClassName=function(){var t=this.constructor.name;if("Subclass"!==t)return t},t}();h=l=u([i.f,Object(i.k)(i.c)],h);var l,p={begin:function(t){return!t._transaction&&(t._transaction=!0)},markAsDirty:function(t,e){var n=!e.silent;return n&&(t._isDirty=e),t._changeToken={},t._validationError=void 0,n},commit:function(t,e){var n=t._isDirty;if(n){for(;t._isDirty;){var r=t._isDirty;t._isDirty=null,a(t,t._changeEventName,t,r,e)}t._transaction=!1;var i=t._owner;i&&i!==e&&i._onChildrenChange(t,n)}else t._isDirty=null,t._transaction=!1},aquire:function(t,e,n){return e._owner?e._owner===t:(e._owner=t,e._ownerKey=n,!0)},free:function(t,e){t===e._owner&&(e._owner=void 0,e._ownerKey=void 0)}}},function(t,e,n){"use strict";function r(t){var e=t.defaults,n=t.attributes,r=t.idAttribute,i=n||e||{};return!r||r in i||(i[r]=void 0),i}function i(t,e){if(!e)return t.asProp;"undefined"!=typeof Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,e).asProp(t,e):t._log("error",'Add import "reflect-metadata"; as the first line of your app.')}function o(t){return t.asProp}e.p=i,e.u=o;var s=n(23),u=n(0),a=n(5),c=n(1);n.d(e,"a",function(){return a.a}),n.d(e,"b",function(){return a.b}),n.d(e,"c",function(){return a.c}),n.d(e,"e",function(){return a.e}),n.d(e,"f",function(){return a.f}),n.d(e,"g",function(){return a.g}),n.d(e,"h",function(){return a.h}),n.d(e,"i",function(){return a.i}),n.d(e,"j",function(){return a.j}),n.d(e,"l",function(){return a.k}),n.d(e,"m",function(){return a.l}),n.d(e,"n",function(){return a.m}),n.d(e,"o",function(){return a.n}),n.d(e,"q",function(){return a.o}),n.d(e,"r",function(){return a.p}),n.d(e,"s",function(){return a.q}),n.d(e,"t",function(){return a.s}),n.d(e,"v",function(){return a.t}),n.d(e,"w",function(){return a.u}),n.d(e,"x",function(){return a.v}),n.d(e,"k",function(){return s.a}),n.d(e,"d",function(){return a.d});var f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n},p=u.m.assign,d=u.m.defaults;u.m.omit,u.m.getBaseClass;s.a.onExtend=function(t){c.b.onExtend.call(this,t);var e=this,n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(t.Collection);n.model=e,n=h([u.l],n),this.DefaultCollection=n,e.Collection===t.Collection&&(this.Collection=n),Object(a.q)(this,a.l)},s.a.onDefine=function(t,e){var n=e.prototype,i=Object(a.r)(this.attributes=r(t),n._attributes),o=i.properties,s=i._localEvents,u=l(i,["properties","_localEvents"]);p(this.prototype,u),t.properties=d(t.properties||{},o),t._localEvents=s,c.b.onDefine.call(this,t,e),this.DefaultCollection.define(t.collection||{}),this.Collection=t.Collection,this.Collection.prototype.model=this},s.a._attribute=a.a,Object(a.q)(s.a,a.l)},function(t,e,n){"use strict";function r(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(c.k);return e.attributes=t,e=p([f.f],e)}function i(t){return new c.d({value:t})}function o(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i;return this.transaction(function(){i=t.apply(e,n)}),i}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"on",function(){return d}),n.d(e,"off",function(){return v}),n.d(e,"trigger",function(){return y}),n.d(e,"once",function(){return g}),n.d(e,"listenTo",function(){return b}),n.d(e,"stopListening",function(){return m}),n.d(e,"listenToOnce",function(){return _}),e.attributes=r,e.value=i,e.transaction=o;var s=n(0);n.d(e,"tools",function(){return s.m}),n.d(e,"eventsApi",function(){return s.i}),n.d(e,"Mixable",function(){return s.d}),n.d(e,"predefine",function(){return s.l}),n.d(e,"define",function(){return s.f}),n.d(e,"definitions",function(){return s.h}),n.d(e,"definitionDecorator",function(){return s.g}),n.d(e,"MixinsState",function(){return s.e}),n.d(e,"mixins",function(){return s.k}),n.d(e,"mixinRules",function(){return s.j}),n.d(e,"EventMap",function(){return s.a}),n.d(e,"Messenger",function(){return s.c}),n.d(e,"Events",function(){return s.b});var u=n(15);n.d(e,"Collection",function(){return u.a});var a=n(31);n.d(e,"Store",function(){return a.a});var c=n(2);n.d(e,"Record",function(){return c.k}),n.d(e,"ChainableAttributeSpec",function(){return c.d}),n.d(e,"attr",function(){return c.p}),n.d(e,"prop",function(){return c.u}),n.d(e,"createAttribute",function(){return c.r}),n.d(e,"createSharedTypeSpec",function(){return c.s}),n.d(e,"AnyType",function(){return c.b}),n.d(e,"AggregatedType",function(){return c.a}),n.d(e,"DateType",function(){return c.e}),n.d(e,"MSDateType",function(){return c.g}),n.d(e,"TimestampType",function(){return c.n}),n.d(e,"PrimitiveType",function(){return c.j}),n.d(e,"NumericType",function(){return c.h}),n.d(e,"ArrayType",function(){return c.c}),n.d(e,"ObjectType",function(){return c.i}),n.d(e,"doNothing",function(){return c.t}),n.d(e,"FunctionType",function(){return c.f}),n.d(e,"SharedType",function(){return c.m}),n.d(e,"setAttribute",function(){return c.v}),n.d(e,"UpdateRecordMixin",function(){return c.o}),n.d(e,"constructorsMixin",function(){return c.q}),n.d(e,"shouldBeAnObject",function(){return c.w}),n.d(e,"RecordTransaction",function(){return c.l}),n.d(e,"toAttributeOptions",function(){return c.x});var f=n(0);n.d(e,"Model",function(){return c.k}),n.d(e,"Class",function(){return f.d});var h,l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=(h=f.b,h.on),v=h.off,y=h.trigger,g=h.once,b=h.listenTo,m=h.stopListening,_=h.listenToOnce},function(t,e,n){"use strict";function r(t,e){return function(n,r){return e.call(this,t.call(this,n,r),r)}}function i(t,e){return function(n,r,i,o){return e.call(this,t.call(this,n,r,i,o),r,i,o)}}function o(t,e){return function(n,r,i,o){t.call(this,n,r,i,o),e.call(this,n,r,i,o)}}function s(t){return function(e,n,r){return n?t.call(this,e,n,r):"Required"}}n.d(e,"a",function(){return l});var u=n(13),a=n(0),c=a.m.notEqual,f=a.m.assign,h={},l=function(){function t(t,e){this.name=t,this.getHook=null,this.options=e;var n=f({getHooks:[],transforms:[],changeHandlers:[]},e);n.getHooks=n.getHooks.slice(),n.transforms=n.transforms.slice(),n.changeHandlers=n.changeHandlers.slice();var u=n.value,c=n.type,h=n.parse,l=n.toJSON,p=n.changeEvents,d=n.validate,v=n.getHooks,y=n.transforms,g=n.changeHandlers;if(this.value=u,this.type=c,!n.hasCustomDefault&&c?this.defaultValue=this.create:a.m.isValidJSON(u)?this.defaultValue=new Function("return "+JSON.stringify(u)+";"):this.defaultValue=this.defaultValue,this.propagateChanges=!1!==p,this.toJSON=void 0===l?this.toJSON:l,this.validate=d||this.validate,n.isRequired&&(this.validate=s(this.validate)),y.unshift(this.convert),this.parse=h||this.parse,this.get&&v.unshift(this.get),this.initialize.call(this,n),v.length){var b=this.getHook=v.reduce(r),m=this.validate;this.validate=function(t,e,n){return m.call(this,t,b.call(t,e,n),n)}}this.transform=y.length?y.reduce(i):this.transform,this.handleChange=g.length?g.reduce(o):this.handleChange}return t.create=function(e,n){var r=e.type;return new(e._attribute||(r?r._attribute:t))(n,e)},t.prototype.canBeUpdated=function(t,e,n){},t.prototype.transform=function(t,e,n,r){return t},t.prototype.convert=function(t,e,n,r){return t},t.prototype.isChanged=function(t,e){return c(t,e)},t.prototype.handleChange=function(t,e,n,r){},t.prototype.create=function(){},t.prototype.clone=function(t,e){return t},t.prototype.dispose=function(t,e){this.handleChange(void 0,e,t,h)},t.prototype.validate=function(t,e,n){},t.prototype.toJSON=function(t,e){return t&&t.toJSON?t.toJSON():t},t.prototype.createPropertyDescriptor=function(){var t=this,e=t.name,n=t.getHook;if("id"!==e)return{set:function(t){Object(u.d)(this,e,t)},get:n?function(){return n.call(this,this.attributes[e],e)}:function(){return this.attributes[e]}}},t.prototype.initialize=function(t,e){},t.prototype.doInit=function(t,e,n){var r=void 0===t?this.defaultValue():t,i=this.transform(r,void 0,e,n);return this.handleChange(i,void 0,e,n),i},t.prototype.doUpdate=function(t,e,n,r){var i=this.name,o=e.attributes,s=o[i],u=this.transform(t,s,e,n);return o[i]=u,!!this.isChanged(u,s)&&(this.handleChange(u,s,e,n),!0)},t.prototype._log=function(t,e,n,r){a.m.log(t,"[Attribute Update Error] "+r.getClassName()+"."+this.name+": "+e,{Record:r,"Attribute definition":this,"Prev. value":r.attributes[this.name],"New value":n})},t.prototype.defaultValue=function(){return this.value},t}()},function(t,e,n){"use strict";function r(t,e){return h.a.create(Object(g.b)(t),e)}function i(t){var e=Object.keys(t).filter(function(e){return t[e].parse});return e.length?{_parse:new Function("json","\n            var _attrs = this._attributes;\n\n            "+e.map(function(t){return"                \n                json."+t+" === void 0 || ( json."+t+" = _attrs."+t+".parse.call( this, json."+t+', "'+t+'" ) );\n            '}).join("")+"\n\n            return json;\n        ")}:{}}function o(t){return new Function("\n        var json = {},\n            v = this.attributes,\n            a = this._attributes;\n\n        "+Object.keys(t).map(function(e){if(t[e].toJSON)return"json."+e+" = a."+e+".toJSON.call( this, v."+e+", '"+e+"' );"}).join("\n")+"\n\n        return json;\n    ")}function s(t,e){t.hasOwnProperty("shared")||Object.defineProperty(t,"shared",{get:function(){return new g.a({value:null,type:t,_attribute:e})}})}function u(t){var e;for(var n in t){var r=t[n],i=r.options._onChange;i&&(e||(e=new f.i.EventMap),e.addEvent("change:"+n,"string"==typeof i?c(i,n):a(i,n)))}return e?{_localEvents:e}:{}}function a(t,e){return function(n,r){t.call(n,r,e)}}function c(t,e){var n=new b.a(t,!0),r=n.local,i=n.resolve,o=n.tail;return r?function(t,n){t[o](n,e)}:function(t,n){i(t)[o](n,e)}}e.p=r,e.q=s;var f=n(0),h=n(4);n.d(e,"b",function(){return h.a});var l=n(24);n.d(e,"a",function(){return l.a});var p=n(25);n.d(e,"e",function(){return p.a}),n.d(e,"g",function(){return p.b}),n.d(e,"m",function(){return p.c});var d=n(26);n.d(e,"c",function(){return d.a}),n.d(e,"f",function(){return d.b}),n.d(e,"h",function(){return d.c}),n.d(e,"i",function(){return d.d}),n.d(e,"j",function(){return d.e}),n.d(e,"s",function(){return d.f});var v=n(27);n.d(e,"l",function(){return v.a});var y=n(13);n.d(e,"k",function(){return y.a}),n.d(e,"n",function(){return y.b}),n.d(e,"o",function(){return y.c}),n.d(e,"t",function(){return y.d}),n.d(e,"u",function(){return y.e});var g=n(14);n.d(e,"d",function(){return g.a}),n.d(e,"v",function(){return g.b});var b=n(12),m=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};e.r=function(t,e){var n=f.m.transform({},t,r),s=f.m.defaults({},n,e),a=Object(y.c)(s);return m({},a,{_attributes:new a.AttributesCopy(s),_attributesArray:Object.keys(s).map(function(t){return s[t]}),properties:f.m.transform({},n,function(t){return t.createPropertyDescriptor()}),_toJSON:o(s)},i(s),u(n))}},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){if(null===t)return!0;switch(typeof t){case"number":case"string":case"boolean":return!0;case"object":var e=Object.getPrototypeOf(t);if(e===Object.prototype||e===Array.prototype)return f(t,r)}return!1}function i(t){return Object.getPrototypeOf(t.prototype).constructor}function o(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i],u=e[s];void 0===u||(t.prototype[s]=u)}}function s(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function u(t,e){for(var n,r=0;r<t.length;r++)if(n=e(t[r],r))return n}function a(t,e){var n;for(var r in t)if(t.hasOwnProperty(r)&&(n=e(t[r],r)))return n}function c(t,e){return Object.getPrototypeOf(t)===E?u(t,e):a(t,e)}function f(t,e){return!c(t,function(t){return!e(t)})}function h(t,e){for(var n,r=t;!n&&r;r=Object.getPrototypeOf(r))n=Object.getOwnPropertyDescriptor(r,e);return n}function l(t){for(var e={},n={},r=1;r<arguments.length;r++)n[arguments[r]]=!0;for(var i in t)!n.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function p(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){var i=n(e[r],r);void 0===i||(t[r]=i)}return t}function d(t,e){for(var n in e)t[n]=e[n];return t}function v(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(arguments.length>2)for(var r=2;r<arguments.length;r++){var i=arguments[r];i&&y(t,i)}return t}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);if(arguments.length>2)for(var r=2;r<arguments.length;r++){var i=arguments[r];i&&g(t,i)}return t}function b(t){return t?Object.keys(t):[]}function m(t){var e,n=!0;return function(){return n&&(n=!1,e=t.apply(this,arguments),t=null),e}}function _(t,e){if(t===e)return!1;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n=Object.getPrototypeOf(t);if(n!==Object.getPrototypeOf(e))return!0;switch(n){case P:return+t!=+e;case E:return j(t,e);case C:case null:return O(t,e)}}return!0}function O(t,e){var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(var r=0;r<n.length;r++){var i=n[r];if(!e.hasOwnProperty(i)||_(t[i],e[i]))return!0}return!1}function j(t,e){if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(_(t[n],e[n]))return!0;return!1}n.d(e,"log",function(){return x}),e.isValidJSON=r,e.getBaseClass=i,e.assignToClassProto=o,e.isEmpty=s,e.some=c,e.every=f,e.getPropertyDescriptor=h,e.omit=l,e.transform=p,e.fastAssign=d,e.fastDefaults=v,e.assign=y,e.defaults=g,e.keys=b,e.once=m,e.notEqual=_;var w={none:0,error:1,warn:2,info:3,log:4,debug:5},x=function(t,e,n){var r,i,o,s=w[t];if(void 0!==s||n?(r=e,o=t,i=n):(s=4,r=t,i=e,o="log"),s<=x.level){if(s<=x.throw||!x.logger){var u=new Error(r);throw u.props=i,u}x.logger(o,r,i),x.stop}};x.level=void 0!==t&&t.env?1:2,x.throw=0,x.stop=0,"undefined"!=typeof console&&(x.logger=function(t,e,n){var r=[e];for(var i in n)r.push("\n\t"+i+":",n[i]);console[t].apply(console,r)}),Object.setPrototypeOf||(Object.setPrototypeOf=g);var E=Array.prototype,P=Date.prototype,C=Object.prototype}.call(e,n(20))},function(t,e,n){"use strict";function r(t){var e=t.models;return t.models=[],t._byId={},s(t,e),e}function i(t,e,n){var r,i=t.model;if(t._shared)r=e instanceof i?e:i.create(e,n),t._shared&l.a.listen&&y(r,r._changeEventName,t._onChildrenChange,t);else if(r=e instanceof i?n.merge?e.clone():e:i.create(e,n),!m(t,r)){var o=t._aggregationError||(t._aggregationError=[]);o.push(r)}var s=t._itemEvents;return s&&s.subscribe(t,r),r}function o(t,e,n){t._shared?t._shared&l.a.listen&&g(e,e._changeEventName,t._onChildrenChange,t):(_(t,e),n||e.dispose());var r=t._itemEvents;r&&r.unsubscribe(t,e)}function s(t,e){for(var n=0,r=e;n<r.length;n++){o(t,r[n])}return e}function u(t,e){var n=t._comparator;return!(!n||!1===e.sort)&&(t.models.sort(n),!0)}function a(t,e){t[e.cid]=e;var n=e.id;null!=n&&(t[n]=e)}function c(t,e){delete t[e.cid];var n=e.id;null!=n&&delete t[n]}function f(t,e){delete t[e.previous(e.idAttribute)];var n=e.id;null==n||(t[n]=e)}function h(t){t._log("error","added records already have an owner",t._aggregationError),t._aggregationError=void 0}e.d=r,e.c=i,e.e=o,e.f=s,e.i=u,e.b=a,e.h=c,e.j=f,n.d(e,"a",function(){return O}),e.g=h;var l=n(1),p=n(0),d=(p.i.EventMap,p.i.trigger2),v=p.i.trigger3,y=p.i.on,g=p.i.off,b=l.c.commit,m=(l.c.markAsDirty,l.c.aquire),_=l.c.free,O=function(){function t(t,e,n,r,i,o){this.object=t,this.isRoot=e,this.added=n,this.removed=r,this.nested=i,this.sorted=o}return t.prototype.commit=function(t){for(var e=this,n=e.nested,r=e.object,i=r._isDirty,o=0,s=n;o<s.length;o++){var u=s[o];u.commit(r)}r._aggregationError&&h(r);for(var a=0,c=n;a<c.length;a++){var u=c[a];d(r,"change",u.object,i)}for(var f=this,l=f.added,p=f.removed,y=0,g=l;y<g.length;y++){var m=g[y];v(m,"add",m,r,i),v(r,"add",m,r,i)}for(var _=0,O=p;_<O.length;_++){var m=O[_];v(m,"remove",m,r,i),v(r,"remove",m,r,i)}this.sorted&&d(r,"sort",r,i),(l.length||p.length)&&d(r,"update",r,i),this.isRoot&&b(r,t)},t}()},function(t,e,n){"use strict";function r(){return window.Backbone=c,this}function i(t){this.cid=u.uniqueId("view"),t||(t={}),u.extend(this,u.pick(t,l)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()}function o(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)}function s(){this.handlers=[],this.checkUrl=u.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)}e.c=i,e.b=o,e.a=s;var u=n(6),a=(n.n(u),n(35)),c=(n.n(a),window.Backbone),f=(Array.prototype.slice,{$:a,history:null,VERSION:"1.2.3",View:i,History:s,Router:o,noConflict:r});e.d=f;var h=/^(\S+)\s*(.*)$/,l=["model","collection","el","id","attributes","className","tagName","events"];u.extend(i.prototype,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof f.$?t:f.$(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=u.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(u.isFunction(n)||(n=this[t[e]]),n){var r=e.match(h),i=r[1],o=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var t=u.extend({},u.result(this,"attributes"));this.id&&(t.id=u.result(this,"id")),this.className&&(t.class=u.result(this,"className"));var e=f.$("<"+u.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}});var p=/\((.*?)\)/g,d=/(\(\?)?:\w+/g,v=/\*\w+/g,y=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(o.prototype,{initialize:function(){},route:function(t,e,n){u.isRegExp(t)||(t=this._routeToRegExp(t)),u.isFunction(e)&&(n=e,e=""),n||(n=this[e]);var r=this;return f.history.route(t,function(i){var o=r._extractParameters(t,i);!1!==r.execute(n,o,e)&&(r.trigger.apply(r,["route:"+e].concat(o)),r.trigger("route",e,o),f.history.trigger("route",r,e,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,e){return f.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var t,e=u.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(y,"\\$&").replace(p,"(?:$1)?").replace(d,function(t,e){return e?t:"([^/?]+)"}).replace(v,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return u.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var g=/^[#\/]|\s+$/g,b=/^\/+|\/+$/g,m=/#.*$/;s.started=!1,u.extend(s.prototype,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(g,"")},start:function(t){if(s.started)throw new Error("Backbone.history has already been started");if(s.started=!0,this.options=u.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(b,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var i=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),s.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),u.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!s.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(m,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),f.history=new s},function(t,e,n){"use strict";function r(t){var e=Object(f.getBaseClass)(t);t.__super__=e.prototype,t.define||d.get(p).populate(t),d.get(t),t.onExtend&&t.onExtend(e)}function i(t){if("function"!=typeof t)return function(e){r(e),e.define(t)};r(t),t.define()}function o(t){return function(e){var n=d.get(e);n.definitionRules=Object(f.defaults)(t,n.definitionRules)}}function s(t,e){return function(n,r){d.get(n.constructor).mergeObject(n,(i={},i[t]=(o={},o[r]=e,o),i));var i,o}}function u(t,e){for(var n=v[typeof t],r=0,i=Object.getOwnPropertyNames(t);r<i.length;r++){var o=i[r];o in n||e(o)}}function a(t,e,n,r,i){if(t.hasOwnProperty(e)){var o=Object.getOwnPropertyDescriptor(t,e);o.configurable&&"value"in o&&(t[e]=i?c(n.value,o.value,r):c(o.value,n.value,r))}else Object.defineProperty(t,e,n)}function c(t,e,n){return void 0===t?e:n&&void 0!==e?n(t,e):t}n.d(e,"a",function(){return p}),e.h=r,e.c=i,e.e=o,e.d=s,n.d(e,"b",function(){return d}),n.d(e,"g",function(){return y}),n.d(e,"f",function(){return g});var f=n(7),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n},p=function(){function t(){}return t.define=function(t,e){void 0===t&&(t={});var n=Object(f.getBaseClass)(this);e&&Object(f.assign)(this,e);var r=t.mixins,i=l(t,["mixins"]);return r&&this.mixins.merge(r),this.mixins.mergeObject(this.prototype,i,!0),this.mixins.mergeObject(this.prototype,this.mixins.getStaticDefinitions(n),!0),this.onDefine&&this.onDefine(this.mixins.definitions,n),this.mixins.mergeInheritedMembers(n),this},t.extend=function(t,e){var n;return t&&t.hasOwnProperty("constructor")?(n=t.constructor,h(n,this)):n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e}(this),r(n),t&&n.define(t,e),n},t}(),d=function(){function t(t){this.Class=t,this.definitions={};var e=Object(f.getBaseClass)(t).mixins;this.mergeRules=e&&e.mergeRules||{},this.definitionRules=e&&e.definitionRules||{},this.appliedMixins=e&&e.appliedMixins||[]}return t.get=function(e){var n=e.mixins;return n&&e===n.Class?n:e.mixins=new t(e)},t.prototype.getStaticDefinitions=function(t){var e={},n=this.Class;return Object(f.transform)(e,this.definitionRules,function(e,r){if(t[r]!==n[r])return n[r]})},t.prototype.merge=function(t){for(var e=this.Class.prototype,n=(this.mergeRules,this.appliedMixins=this.appliedMixins.slice()),r=0,i=t;r<i.length;r++){var o=i[r];if(Array.isArray(o))this.merge(o);else if(n.indexOf(o)<0)if(n.push(o),"function"==typeof o){Object(f.getBaseClass)(o)!==Object&&console.log("Mixin error"),this.mergeObject(this.Class,o);var s=o.mixins;s&&(this.mergeRules=Object(f.defaults)({},this.mergeRules,s.mergeRules),this.definitionRules=Object(f.defaults)({},this.definitionRules,s.definitionRules),this.appliedMixins=this.appliedMixins.concat(s.appliedMixins)),this.mergeObject(e,o.prototype)}else this.mergeObject(e,o)}},t.prototype.populate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t.get(o).merge([this.Class])}},t.prototype.mergeObject=function(t,e,n){var r=this;u(e,function(i){var o,s=Object.getOwnPropertyDescriptor(e,i);(o=r.definitionRules[i])&&a(r.definitions,i,s,o,n),o&&o!==g.protoValue||a(t,i,s,r.mergeRules[i],n)})},t.prototype.mergeInheritedMembers=function(t){var e=this,n=e.mergeRules,r=e.Class;if(n){var i=r.prototype,o=t.prototype;for(var s in n){var u=n[s];i.hasOwnProperty(s)&&s in o&&(i[s]=c(i[s],o[s],u))}}},t}(),v={function:{length:!0,prototype:!0,caller:!0,arguments:!0,name:!0,__super__:!0},object:{constructor:!0}},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return d.get(e).merge(t)}},g=function(t){return function(e){var n=d.get(e);n.mergeRules=Object(f.defaults)(t,n.mergeRules)}};g.value=function(t,e){return t},g.protoValue=function(t,e){return t},g.merge=function(t,e){return Object(f.defaults)({},t,e)},g.pipe=function(t,e){return function(n){return t.call(this,e.call(this,n))}},g.defaults=function(t,e){return function(){return Object(f.defaults)(t.apply(this,arguments),e.apply(this,arguments))}},g.classFirst=function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}},g.classLast=function(t,e){return function(){e.apply(this,arguments),t.apply(this,arguments)}},g.every=function(t,e){return function(){return t.apply(this,arguments)&&e.apply(this,arguments)}},g.some=function(t,e){return function(){return t.apply(this,arguments)||e.apply(this,arguments)}}},function(t,e,n){"use strict";function r(t){return _[t]||(_[t]=function(e,n,r,i,o){void 0===i&&void 0===o||y(this,t,e,n,r,i,o),void 0!==r?v(this,t,e,n,r):d(this,t,e,n)})}function i(t,e,n,r){for(var i,o,s=t[e],u=s;u;u=u.next)n&&n!==u.callback&&n!==u.callback._callback||r&&r!==u.context?(o=u,i||(i=u)):o&&(o.next=u.next);s!==i&&(t[e]=i)}function o(t,e,n){for(var r=t;r;r=r.next)r.callback.call(r.context,e,n)}function s(t,e,n,r){for(var i=t;i;i=i.next)i.callback.call(i.context,e,n,r)}function u(t,e,n,r,i){for(var o=t;o;o=o.next)o.callback.call(o.context,e,n,r,i)}function a(t,e,n,r,i,o){for(var s=t;s;s=s.next)s.callback.call(s.context,e,n,r,i,o)}function c(t,e,n,r,i,o,s){for(var u=t;u;u=u.next)u.callback.call(u.context,e,n,r,i,o,s)}function f(t,e,n,r){if(n){var i=t._events||(t._events=Object.create(null));i[e]=new O(n,r,i[e])}}function h(t,e,n,r){if(n){var i=Object(g.once)(function(){l(t,e,i),n.apply(this,arguments)});i._callback=n,f(t,e,i,r)}}function l(t,e,n,r){var o=t._events;if(o)if(n||r)if(e)i(o,e,n,r);else for(var s in o)i(o,s,n,r);else e?o[e]=void 0:t._events=void 0}function p(t,e,n,r,i){if(j.test(n))for(var o=n.split(j),s=0,u=o;s<u.length;s++){var a=u[s];t(e,a,r,i)}else t(e,n,r,i)}function d(t,e,n,r){var i=t._events;if(i){var u=i[e],a=i.all;o(u,n,r),s(a,e,n,r)}}function v(t,e,n,r,i){var o=t._events;if(o){var a=o[e],c=o.all;s(a,n,r,i),u(c,e,n,r,i)}}function y(t,e,n,r,i,o,s){var u=t._events;if(u){var f=u[e],h=u.all;a(f,n,r,i,o,s),c(h,e,n,r,i,o,s)}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"EventMap",function(){return b}),n.d(e,"EventDescriptor",function(){return m}),n.d(e,"EventHandler",function(){return O}),e.on=f,e.once=h,e.off=l,e.strings=p,e.trigger2=d,e.trigger3=v,e.trigger5=y;var g=n(7),b=function(){function t(e){this.handlers=[],e&&(e instanceof t?this.handlers=e.handlers.slice():e&&this.addEventsMap(e))}return t.prototype.merge=function(t){this.handlers=this.handlers.concat(t.handlers)},t.prototype.addEventsMap=function(t){for(var e in t)this.addEvent(e,t[e])},t.prototype.bubbleEvents=function(t){for(var e=0,n=t.split(j);e<n.length;e++){var i=n[e];this.addEvent(i,r(i))}},t.prototype.addEvent=function(t,e){for(var n=this.handlers,r=0,i=t.split(j);r<i.length;r++){var o=i[r];n.push(new m(o,e))}},t.prototype.subscribe=function(t,e){for(var n=0,r=this.handlers;n<r.length;n++){var i=r[n];f(e,i.name,i.callback,t)}},t.prototype.unsubscribe=function(t,e){for(var n=0,r=this.handlers;n<r.length;n++){var i=r[n];l(e,i.name,i.callback,t)}},t}(),m=function(){function t(t,e){this.name=t,this.callback=!0===e?r(t):"string"==typeof e?function(){var t=this[e];t&&t.apply(this,arguments)}:e}return t}(),_={},O=function(){function t(t,e,n){void 0===n&&(n=null),this.callback=t,this.context=e,this.next=n}return t}(),j=/\s+/},function(t,e,n){"use strict";function r(t,e,n){for(var r=e.match(i),o=r.length-1,s=t,u=0;u<o;u++){var a=r[u];switch(a){case"~":s=s.getStore();break;case"^":s=s.getOwner();break;default:s=s.get(a)}if(!s)return}return n(s,r[o])}n.d(e,"a",function(){return o}),e.b=r;var i=/\^|([^.]+)/g,o=function(){function t(t,e){void 0===e&&(e=!1);var n=t.match(i).map(function(t){return"^"===t?"getOwner()":"~"===t[0]?'getStore().get("'+t.substr(1)+'")':t});this.tail=e&&n.pop(),this.local=!n.length,n.unshift("self"),this.resolve=new Function("self","return "+n.join(".")+";")}return t}()},function(t,e,n){"use strict";function r(t,e,n){var r=i(t),s={};t._attributes[e].doUpdate(n,t,s)&&(o(t,s),p(t,"change:"+e,t,t.attributes[e],s)),r&&l(t)}function i(t){return!!f(t)&&(t._previousAttributes=new t.AttributesCopy(t.attributes),t._changedAttributes=null,!0)}function o(t,e){return t._changedAttributes&&(t._changedAttributes=null),h(t,e)}function s(t){var e=Object.keys(t),n=new Function("values","\n        "+e.map(function(t){return"\n            this."+t+" = values."+t+";\n        "}).join("")+"\n    ");n.prototype=Object.prototype;var r=new Function("record","values","options","\n        var _attrs = record._attributes;\n\n        "+e.map(function(t){return"\n            this."+t+" = _attrs."+t+".doInit( values."+t+", record, options );\n        "}).join("")+"\n    ");return r.prototype=Object.prototype,{Attributes:r,AttributesCopy:n}}function u(t,e){return!(!e||e.constructor!==Object)||(t._log("warn","update with non-object is ignored!",{values:e}),!1)}e.d=r,n.d(e,"b",function(){return d}),e.c=s,e.e=u,n.d(e,"a",function(){return v});var a=n(1),c=n(0),f=a.c.begin,h=a.c.markAsDirty,l=a.c.commit,p=c.i.trigger3,d={transaction:function(t,e){void 0===e&&(e={});var n=i(this);t.call(this,this),n&&l(this)},_onChildrenChange:function(t,e){var n=t._ownerKey,r=this._attributes[n];r&&!r.propagateChanges||this.forceAttributeChange(n,e)},forceAttributeChange:function(t,e){void 0===e&&(e={});var n=i(this);o(this,e)&&p(this,"change:"+t,this,this.attributes[t],e),n&&l(this)},_createTransaction:function(t,e){void 0===e&&(e={});var n,r=i(this),s=[],a=[],c=this._attributes,f=e.parse?this.parse(t,e):t;if(u(this,f))for(var h in f){var p=c[h];p?p.doUpdate(f[h],this,e,a)&&s.push(h):(n||(n=[]),n.push("'"+h+"'"))}if(s.length&&o(this,e))return new v(this,r,a,s);for(var d=0,y=a;d<y.length;d++){y[d].commit(this)}r&&l(this)}},v=function(){function t(t,e,n,r){this.object=t,this.isRoot=e,this.nested=n,this.changes=r}return t.prototype.commit=function(t){for(var e=this,n=e.nested,r=e.object,i=e.changes,o=0,s=n;o<s.length;o++){s[o].commit(r)}for(var u=r.attributes,a=r._isDirty,c=0,f=i;c<f.length;c++){var h=f[c];p(r,"change:"+h,r,u[h],a)}this.isRoot&&l(r,t)},t}()},function(t,e,n){"use strict";function r(){}function i(t){var e;if("function"==typeof t)e=t.has;else if(t&&t instanceof c)e=t;else{var n=o(t);e=n&&n.prototype instanceof s.b?n.shared.value(t):new c({type:n,value:t,hasCustomDefault:!0})}return e.options}function o(t){switch(typeof t){case"number":return Number;case"string":return String;case"boolean":return Boolean;case"undefined":return;case"object":return t?t.constructor:void 0}}n.d(e,"a",function(){return c}),e.b=i;var s=n(1),u=n(0),a=u.m.assign,c=function(){function t(t){this.options={getHooks:[],transforms:[],changeHandlers:[]},t&&a(this.options,t)}return t.prototype.check=function(t,e){function n(n,r,i){if(!t.call(n,r,i)){var o=e||t.error||i+" is not valid";return"function"==typeof o?o.call(n,i):o}}var r=this.options.validate;return this.metadata({validate:r?function(t,e,i){return r(t,e,i)||n(t,e,i)}:n})},Object.defineProperty(t.prototype,"asProp",{get:function(){return Object(u.g)("attributes",this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.metadata({isRequired:!0})},enumerable:!0,configurable:!0}),t.prototype.watcher=function(t){return this.metadata({_onChange:t})},t.prototype.parse=function(t){return this.metadata({parse:t})},t.prototype.toJSON=function(t){return this.metadata({toJSON:"function"==typeof t?t:t?function(t){return t&&t.toJSON()}:r})},t.prototype.get=function(t){return this.metadata({getHooks:this.options.getHooks.concat(t)})},t.prototype.set=function(t){function e(e,n,r,i){if(this.isChanged(e,n)){var o=t.call(r,e,this.name);return void 0===o?n:this.convert(o,n,r,i)}return n}return this.metadata({transforms:this.options.transforms.concat(e)})},t.prototype.changeEvents=function(t){return this.metadata({changeEvents:t})},t.prototype.events=function(t){function e(t,e,r){e&&e.trigger&&n.unsubscribe(r,e),t&&t.trigger&&n.subscribe(r,t)}var n=new u.a(t);return this.metadata({changeHandlers:this.options.changeHandlers.concat(e)})},Object.defineProperty(t.prototype,"has",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.metadata=function(e){var n=new t(this.options);return a(n.options,e),n},t.prototype.value=function(t){return this.metadata({value:t,hasCustomDefault:!0})},t}();Function.prototype.value=function(t){return new c({type:this,value:t,hasCustomDefault:!0})},Object.defineProperty(Function.prototype,"isRequired",{get:function(){return this._isRequired||this.has.isRequired},set:function(t){this._isRequired=t}}),Object.defineProperty(Function.prototype,"asProp",{get:function(){return this.has.asProp}}),Object.defineProperty(Function.prototype,"has",{get:function(){return this._has||new c({type:this,value:this._attribute.defaultValue,hasCustomDefault:void 0!==this._attribute.defaultValue})},set:function(t){this._has=t}})},function(t,e,n){"use strict";function r(t,e,n){var r=n.parse?t.parse(e,n):e;return Array.isArray(r)?r:[r]}function i(t,e){return void 0!==e?function(n,r){return t.call(e,n,r)}:t}function o(t,e){return"object"==typeof t?function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0}:i(t,e)}n.d(e,"a",function(){return E});var s=n(0),u=n(1),a=n(2),c=n(8),f=n(28),h=n(29),l=n(30),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},v=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},y=s.i.trigger2,g=(s.i.on,s.i.off,u.c.begin),b=u.c.commit,m=u.c.markAsDirty,_=(s.m.omit,s.m.log,s.m.assign),O=s.m.defaults,j=(s.m.assignToClassProto,0),w=Array.prototype.slice,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e}(a.m);x.defaultValue=[];var E=P=function(t){function e(e,n,i){void 0===n&&(n={});var o=t.call(this,j++)||this;if(o.models=[],o._byId={},o.comparator=o.comparator,void 0!==n.comparator&&(o.comparator=n.comparator,n.comparator=void 0),o.model=o.model,n.model&&(o.model=n.model,n.model=void 0),o.idAttribute=o.model.prototype.idAttribute,o._shared=i||0,e){var s=r(o,e,n);Object(h.a)(o,s,n,!0)}return o.initialize.apply(o,arguments),o._localEvents&&o._localEvents.subscribe(o,o),o}return p(e,t),e.prototype.createSubset=function(t,e){var n=this.constructor.subsetOf(this).options.type,r=new n(t,e);return r.resolve(this),r},e.onExtend=function(t){function e(t,e,r){n.call(this,t,e,u.a.share|(r?u.a.listen:0))}var n=this;this._SubsetOf=null,s.d.mixins.populate(e),e.prototype=this.prototype,e._attribute=x,this.Refs=this.Subset=e,u.b.onExtend.call(this,t),Object(a.s)(this,a.m)},e.onDefine=function(t,e){if(t.itemEvents){var n=new s.a(e.prototype._itemEvents);n.addEventsMap(t.itemEvents),this.prototype._itemEvents=n}t.comparator&&(this.prototype.comparator=t.comparator),u.b.onDefine.call(this,t)},Object.defineProperty(e.prototype,"__inner_state__",{get:function(){return this.models},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"comparator",{get:function(){return this._comparator},set:function(t){var e=this;switch(typeof t){case"string":this._comparator=function(e,n){var r=e[t],i=n[t];return r===i?0:r<i?-1:1};break;case"function":1===t.length?this._comparator=function(n,r){var i=t.call(e,n),o=t.call(e,r);return i===o?0:i<o?-1:1}:this._comparator=function(n,r){return t.call(e,n,r)};break;default:this._comparator=null}},enumerable:!0,configurable:!0}),e.prototype.getStore=function(){return this._store||(this._store=this._owner?this._owner.getStore():this._defaultStore)},e.prototype._onChildrenChange=function(t,e,n){if(void 0===e&&(e={}),n!==this){var r=this.idAttribute;t.hasChanged(r)&&Object(c.j)(this._byId,t);var i=g(this);m(this,e)&&y(this,"change",t,e),i&&b(this)}},e.prototype.get=function(t){if(null!=t){if("object"==typeof t){var e=t[this.idAttribute];return void 0!==e&&this._byId[e]||this._byId[t.cid]}return this._byId[t]}},e.prototype.each=function(t,e){for(var n=i(t,e),r=this.models,o=0;o<r.length;o++)n(r[o],o)},e.prototype.every=function(t,e){for(var n=o(t,e),r=this.models,i=0;i<r.length;i++)if(!n(r[i],i))return!1;return!0},e.prototype.filter=function(t,e){var n=o(t,e);this.models;return this.map(function(t,e){return n(t,e)?t:void 0})},e.prototype.find=function(t,e){for(var n=o(t,e),r=this.models,i=0;i<r.length;i++)if(n(r[i],i))return r[i];return null},e.prototype.some=function(t,e){return Boolean(this.find(t,e))},e.prototype.map=function(t,e){for(var n=i(t,e),r=this.models,o=Array(r.length),s=0,u=0;u<r.length;u++){var a=n(r[u],u);void 0===a||(o[s++]=a)}return o.length=s,o},e.prototype._validateNested=function(t){if(this._shared)return 0;var e=0;return this.each(function(n){var r=n.validationError;r&&(t[n.cid]=r,e++)}),e},e.prototype.initialize=function(){},Object.defineProperty(e.prototype,"length",{get:function(){return this.models.length},enumerable:!0,configurable:!0}),e.prototype.first=function(){return this.models[0]},e.prototype.last=function(){return this.models[this.models.length-1]},e.prototype.at=function(t){var e=t<0?t+this.models.length:t;return this.models[e]},e.prototype.clone=function(t){void 0===t&&(t={});var e=this._shared&u.a.share?this.models:this.map(function(t){return t.clone()}),n=new this.constructor(e,{model:this.model,comparator:this.comparator},this._shared);return t.pinStore&&(n._defaultStore=this.getStore()),n},e.prototype.toJSON=function(){return this.models.map(function(t){return t.toJSON()})},e.prototype.set=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e={}),void 0!==e.add&&this._log("warn","Collection.set doesn't support 'add' option, behaving as if options.add === true.",e),e.reset)this.reset(t,e);else{var n=this._createTransaction(t,e);n&&n.commit()}return this},e.prototype.dispose=function(){if(!this._disposed){for(var e=!this._shared,n=0,r=this.models;n<r.length;n++){var i=r[n];Object(c.e)(this,i),e&&i.dispose()}t.prototype.dispose.call(this)}},e.prototype.reset=function(t,e){void 0===e&&(e={});var n=g(this),i=Object(c.d)(this);return t&&Object(h.a)(this,r(this,t,e),e,!0),m(this,e),e.silent||y(this,"reset",this,O({previousModels:i},e)),n&&b(this),this.models},e.prototype.add=function(t,e){void 0===e&&(e={});var n=r(this,t,e),i=this.models.length?Object(f.a)(this,n,e):Object(h.a)(this,n,e);if(i)return i.commit(),i.added},e.prototype.remove=function(t,e){return void 0===e&&(e={}),t?Array.isArray(t)?Object(l.a)(this,t,e):Object(l.b)(this,t,e):[]},e.prototype._createTransaction=function(t,e){void 0===e&&(e={});var n=r(this,t,e);return this.models.length?!1===e.remove?Object(f.a)(this,n,e,!0):Object(h.b)(this,n,e):Object(h.a)(this,n,e)},e.prototype.pluck=function(t){return this.models.map(function(e){return e[t]})},e.prototype.sort=function(t){if(void 0===t&&(t={}),Object(c.i)(this,t)){var e=g(this);m(this,t)&&y(this,"sort",this,t),e&&b(this)}return this},e.prototype.push=function(t,e){return this.add(t,_({at:this.length},e))},e.prototype.pop=function(t){var e=this.at(this.length-1);return this.remove(e,t),e},e.prototype.unset=function(t,e){var n=this.get(t);return this.remove(t,d({unset:!0},e)),n},e.prototype.unshift=function(t,e){return this.add(t,_({at:0},e))},e.prototype.shift=function(t){var e=this.at(0);return this.remove(e,t),e},e.prototype.slice=function(){return w.apply(this.models,arguments)},e.prototype.indexOf=function(t){var e=this.get(t);return this.models.indexOf(e)},e.prototype.modelId=function(t){return t[this.model.prototype.idAttribute]},e.prototype.toggle=function(t,e){var n=Boolean(this.get(t)),r=void 0===e?!n:Boolean(e);return n!==r&&(n?this.remove(t):this.add(t)),r},e.prototype._log=function(t,e,n){s.m.log(t,"[Collection Update] "+this.model.prototype.getClassName()+"."+this.getClassName()+": "+e,{Argument:n,"Attributes spec":this.model.prototype._attributes})},e.prototype.getClassName=function(){return t.prototype.getClassName.call(this)||"Collection"},e}(u.b);E._attribute=a.a,E=P=v([Object(s.f)({cidPrefix:"c",model:a.k,_changeEventName:"changes",_aggregationError:null}),Object(s.h)({comparator:s.j.value,model:s.j.protoValue,itemEvents:s.j.merge})],E),Object(a.s)(E,a.m),a.k.Collection=E;var P},function(t,e,n){"use strict";function r(t){switch(typeof t){case"function":return function(e){return t.call(e)};case"object":return function(){return t};case"string":return new i.a(t).resolve}}e.a=r;var i=n(12)},function(t,e,n){"use strict";function r(t,e,n){e._xhr&&e._xhr.abort&&e._xhr.abort();var r=e._xhr=e.sync(t,e,n);return r&&r.always&&r.always(function(){e._xhr=void 0}),r}function i(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),o(t,"error",t,r,e)}}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.trigger.apply(t,e);var r=t.collection;r&&r.trigger.apply(r,e)}n.d(e,"a",function(){return p}),n.d(e,"b",function(){return d});var s=n(18),u=n(6),a=(n.n(u),n(3)),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h=a.tools.defaults,l=a.tools.getBaseClass(a.Model).prototype,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.dispose=function(){this._xhr&&this._xhr.abort&&this._xhr.abort(),t.prototype.dispose.call(this)},e.prototype.url=function(){return this.model.prototype.urlRoot||""},e.prototype._invalidate=function(t){var e;if(t.validate&&(e=this.validationError))return this.trigger("invalid",this,e,u.extend({validationError:e},t)),!0},e.prototype.fetch=function(t){t=u.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";if(n[i](r,t),n._invalidate(t))return!1;e&&e.call(t.context,n,r,t),n.trigger("sync",n,r,t)},i(this,t),r("read",this,t)},e.prototype.create=function(t,e){var n=this;void 0===e&&(e={});var r=t instanceof d?t:this.model.create(t,e);r._owner||(r._owner=this),e.wait||this.add([r],e);var i=e.success;return e.success=function(t,r,o){e.wait&&n.add([t],h({parse:!1},o)),i&&i.call(o.context,t,r,o)},r.save(null,e),r},e.prototype.sync=function(){return s.a.sync.apply(this,arguments)},e}(a.Collection);p=f([Object(a.define)({itemEvents:{destroy:function(t){this.remove(t)}}})],p);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype._invalidate=function(t){var e;if(t.validate&&(e=this.validationError))return o(this,"invalid",this,e,u.extend({validationError:e},t)),!0},e.prototype.dispose=function(){this._xhr&&this._xhr.abort&&this._xhr.abort(),t.prototype.dispose.call(this)},e.prototype.fetch=function(t){t=u.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(r){if(e.set(r,t),e._invalidate(t))return!1;n&&n.call(t.context,e,r,t),o(e,"sync",e,r,t)},i(this,t),r("read",this,t)},e.prototype.sync=function(){return s.a.sync.apply(this,arguments)},e.prototype.save=function(t,e,n){var a,c,f=this;null==t||"object"==typeof t?(a=t,c=e||{}):((a={})[t]=e,c=n||{});var h=u.extend({validate:!0,parse:!0},c),p=h.wait;if(a&&!p&&this.set(a,c),this._invalidate(h))return a&&p&&this.set(a,c),s.a.errorPromise(this.validationError);var d=this,v=h.success,y=this.attributes;h.success=function(t){if(d.attributes=y,p&&(t=u.extend({},a,t)),t&&(l.set.call(f,t,h),d._invalidate(h)))return!1;v&&v.call(h.context,d,t,h),o(d,"sync",d,t,h)},i(this,h),a&&p&&(this.attributes=u.extend({},y,a));var g=this.isNew()?"create":h.patch?"patch":"update";"patch"!==g||h.attrs||(h.attrs=a);var b=r(g,this,h);return this.attributes=y,b},e.prototype.destroy=function(t){t=t?u.clone(t):{};var e=this,n=t.success,s=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(r){s&&a(),n&&n.call(t.context,e,r,t),e.isNew()||o(e,"sync",e,r,t)};var c;return this.isNew()?u.defer(t.success):(i(this,t),c=r("delete",this,t)),s||a(),c||!1},e.prototype.url=function(){var t=u.result(this,"urlRoot")||u.result(this.collection,"url")||s.a.urlError();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},e.prototype.set=function(e,n,r){return"string"==typeof e?r?t.prototype.set.call(this,(i={},i[e]=n,i),r):(this[e]=n,this):t.prototype.set.call(this,e,n);var i},e}(a.Model);d.Collection=p,d=f([Object(a.define)({urlRoot:""}),Object(a.definitions)({urlRoot:a.mixinRules.protoValue})],d)},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n={});var r=u[t],o={type:r,dataType:"json"};n.url||(o.url=i.result(e,"url")||a.urlError()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||e.toJSON(n))),"GET"!==o.type&&(o.processData=!1);var s=n.error;n.error=function(t,e,r){n.textStatus=e,n.errorThrown=r,s&&s.call(n.context,t,e,r)};var c=n.xhr=a.ajax(i.extend(o,n));return e.trigger("request",e,c,n),e.collection&&e.collection.trigger("request",e,c,n),c}var i=n(6),o=(n.n(i),n(9)),s=n(3),u=(s.tools.defaults,{create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"}),a={$:o.d.$,errorPromise:function(t){var e=$.Deferred();return e.reject(t),e},ajax:function(t){return $.ajax.apply($,arguments)},sync:r,urlError:function(){throw new Error('A "url" property or function must be specified')}};e.a=a},function(t,e,n){"use strict";function r(t){return p.Model.defaults(t)}function i(t,e){return{get:function(){return t[e]},set:function(n){t[e]=n}}}function o(t){return s.tools.transform({},t,function(t){return{value:t}})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Class",function(){return l}),e.defaults=r;var s=n(3);n.d(e,"on",function(){return s.on}),n.d(e,"off",function(){return s.off}),n.d(e,"trigger",function(){return s.trigger}),n.d(e,"once",function(){return s.once}),n.d(e,"listenTo",function(){return s.listenTo}),n.d(e,"stopListening",function(){return s.stopListening}),n.d(e,"listenToOnce",function(){return s.listenToOnce}),n.d(e,"attributes",function(){return s.attributes}),n.d(e,"value",function(){return s.value}),n.d(e,"transaction",function(){return s.transaction}),n.d(e,"tools",function(){return s.tools}),n.d(e,"eventsApi",function(){return s.eventsApi}),n.d(e,"Record",function(){return s.Record}),n.d(e,"ChainableAttributeSpec",function(){return s.ChainableAttributeSpec}),n.d(e,"attr",function(){return s.attr}),n.d(e,"prop",function(){return s.prop}),n.d(e,"Mixable",function(){return s.Mixable}),n.d(e,"predefine",function(){return s.predefine}),n.d(e,"define",function(){return s.define}),n.d(e,"definitions",function(){return s.definitions}),n.d(e,"definitionDecorator",function(){return s.definitionDecorator}),n.d(e,"MixinsState",function(){return s.MixinsState}),n.d(e,"mixins",function(){return s.mixins}),n.d(e,"mixinRules",function(){return s.mixinRules}),n.d(e,"EventMap",function(){return s.EventMap}),n.d(e,"Messenger",function(){return s.Messenger}),n.d(e,"Events",function(){return s.Events}),n.d(e,"createAttribute",function(){return s.createAttribute}),n.d(e,"createSharedTypeSpec",function(){return s.createSharedTypeSpec}),n.d(e,"AnyType",function(){return s.AnyType}),n.d(e,"AggregatedType",function(){return s.AggregatedType}),n.d(e,"DateType",function(){return s.DateType}),n.d(e,"MSDateType",function(){return s.MSDateType}),n.d(e,"TimestampType",function(){return s.TimestampType}),n.d(e,"PrimitiveType",function(){return s.PrimitiveType}),n.d(e,"NumericType",function(){return s.NumericType}),n.d(e,"ArrayType",function(){return s.ArrayType}),n.d(e,"ObjectType",function(){return s.ObjectType}),n.d(e,"doNothing",function(){return s.doNothing}),n.d(e,"FunctionType",function(){return s.FunctionType}),n.d(e,"SharedType",function(){return s.SharedType}),n.d(e,"setAttribute",function(){return s.setAttribute}),n.d(e,"UpdateRecordMixin",function(){return s.UpdateRecordMixin}),n.d(e,"constructorsMixin",function(){return s.constructorsMixin}),n.d(e,"shouldBeAnObject",function(){return s.shouldBeAnObject}),n.d(e,"RecordTransaction",function(){return s.RecordTransaction}),n.d(e,"toAttributeOptions",function(){return s.toAttributeOptions});var u=n(9),a=n(17),c=n(18),f=n(36),h=n(37);n.d(e,"Backbone",function(){return u.d}),n.d(e,"Store",function(){return h.b}),n.d(e,"LazyStore",function(){return h.a}),n.d(e,"Collection",function(){return a.a}),n.d(e,"Model",function(){return a.b}),n.d(e,"View",function(){return u.c}),n.d(e,"Router",function(){return u.b}),n.d(e,"History",function(){return u.a});var l=s.Messenger,p=Object.create(s,s.tools.defaults({sync:i(c.a,"sync"),errorPromise:i(c.a,"errorPromise"),ajax:i(c.a,"ajax"),history:i(u.d,"history"),store:i(s.Store,"global"),$:{get:function(){return u.d.$},set:function(t){u.d.$=c.a.$=t}}},o({Backbone:u.d,Class:l,Model:a.b,Collection:a.a,LazyStore:h.a,Store:h.b,defaults:r}),o(u.d)));e.default=p,s.MixinsState.get(p.Mixable).merge([p.Events]),p.Mixable.mixins.populate(u.d.View,u.d.Router,u.d.History),p.Record.mixins.merge([f.b]),p.Record.Collection.mixins.merge([f.a])},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):y=-1,d.length&&u())}function u(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,v=!1,o(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var f,h,l=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],v=!1,y=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||v||i(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.prependListener=c,l.prependOnceListener=c,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){"use strict";function r(){return"l"+g++}function i(t){if(t)return"function"==typeof t?{get:t}:t}function o(t,e){(t._listeningTo||(t._listeningTo=Object.create(null)))[e.cid||(e.cid=r())]=e}n.d(e,"c",function(){return b}),n.d(e,"b",function(){return m});var s=n(10),u=n(7),a=n(11);n.d(e,"a",function(){return a.EventMap});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},f=(a.EventHandler,a.strings),h=a.on,l=a.off,p=a.once,d=a.trigger5,v=a.trigger2,y=a.trigger3,g=0,b=function(){function t(){this._events=void 0,this._listeningTo=void 0,this.cid=r(),this.initialize.apply(this,arguments)}return t.onDefine=function(t,e){var n=t.localEvents,r=t._localEvents,o=t.properties;if(n||r){var s=new a.EventMap(this.prototype._localEvents);n&&s.addEventsMap(n),r&&s.merge(r),this.prototype._localEvents=s}o&&Object.defineProperties(this.prototype,Object(u.transform)({},o,i))},t.prototype.initialize=function(){},t.prototype.on=function(t,e,n){if("string"==typeof t)f(h,this,t,e,n);else for(var r in t)f(h,this,r,t[r],n||e);return this},t.prototype.once=function(t,e,n){if("string"==typeof t)f(p,this,t,e,n);else for(var r in t)f(p,this,r,t[r],n||e);return this},t.prototype.off=function(t,e,n){if(t)if("string"==typeof t)f(l,this,t,e,n);else for(var r in t)f(l,this,r,t[r],n||e);else l(this,void 0,e,n);return this},t.prototype.trigger=function(t,e,n,r,i,o){return void 0!==i||void 0!==o?d(this,t,e,n,r,i,o):void 0!==r?y(this,t,e,n,r):v(this,t,e,n),this},t.prototype.listenTo=function(t,e,n){return t&&(o(this,t),t.on(e,n||"object"!=typeof e?n:this,this)),this},t.prototype.listenToOnce=function(t,e,n){return t&&(o(this,t),t.once(e,n||"object"!=typeof e?n:this,this)),this},t.prototype.stopListening=function(t,e,n){var r=this._listeningTo;if(r){var i=!(e||n),o=n||"object"!=typeof e?n:this;if(t){var s=r[t.cid];s&&(i&&delete r[t.cid],s.off(e,o,this))}else if(null==t){for(var u in r)r[u].off(e,o,this);i&&(this._listeningTo=void 0)}}return this},t.prototype.dispose=function(){this._disposed||(this.stopListening(),this.off(),this._disposed=!0)},t}();b=c([s.c,Object(s.e)({properties:s.f.merge,localEvents:s.f.merge})],b);var m=Object(u.omit)(b.prototype,"constructor","initialize")},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){this.length=t._validateNested(this.nested={}),(this.error=t.validate(t))&&this.length++}return t.prototype.each=function(t){var e=this,n=e.error,r=e.nested;n&&t(n,null);for(var i in r)t(r[i],i)},t.prototype.eachError=function(e,n){this.each(function(r,i){r instanceof t?r.eachError(e,n.get(i)):e(r,i,n)})},t}()},function(t,e,n){"use strict";function r(t,e){if(Object(s.u)(t,e)){var n=t._attributes,r=void 0;for(var i in e)n[i]||(r||(r=[]),r.push("'"+i+"'"));r&&t._log("warn","undefined attributes "+r.join(", ")+" are ignored.",{values:e})}}n.d(e,"a",function(){return d});var i=n(0),o=n(1),s=n(5),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},f=i.m.assign,h=i.m.isEmpty,l=i.m.log,p=0,d=b=function(t){function e(e,n){var i=t.call(this,p++)||this;i.attributes={};var o=n||{},s=(o.parse?i.parse(e,o):e)||{};return l.level>1&&r(i,s),i.attributes=i._previousAttributes=new i.Attributes(i,s,o),i.initialize(e,n),i._localEvents&&i._localEvents.subscribe(i,i),i}return u(e,t),e.onDefine=function(t,e){},e.defaults=function(t){return this.extend({attributes:t})},e.prototype.previousAttributes=function(){return new this.AttributesCopy(this._previousAttributes)},Object.defineProperty(e.prototype,"__inner_state__",{get:function(){return this.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){var t=this._changedAttributes;if(!t){var e=this._previousAttributes;t={};for(var n=this,r=(n._attributes,n.attributes),i=0,o=this._attributesArray;i<o.length;i++){var s=o[i],u=s.name,a=r[u];s.isChanged(a,e[u])&&(t[u]=a)}this._changedAttributes=t}return t},enumerable:!0,configurable:!0}),e.prototype.changedAttributes=function(t){if(!t)return!!this.hasChanged()&&f({},this.changed);var e,n=!1,r=this._transaction?this._previousAttributes:this.attributes,i=this._attributes;for(var o in t)i[o].isChanged(r[o],e=t[o])&&((n||(n={}))[o]=e);return n},e.prototype.hasChanged=function(t){var e=this._previousAttributes;return!!e&&(t?this._attributes[t].isChanged(this.attributes[t],e[t]):!h(this.changed))},e.prototype.previous=function(t){if(t){var e=this._previousAttributes;if(e)return e[t]}return null},e.prototype.isNew=function(){return null==this.id},e.prototype.has=function(t){return void 0!=this[t]},e.prototype.unset=function(t,e){var n=this[t];return this.set((r={},r[t]=void 0,r),e),n;var r},e.prototype.clear=function(t){var e=this,n=t&&t.nullify;return this.transaction(function(){e.forEachAttr(e.attributes,function(t,r){return e[r]=n?null:void 0})},t),this},e.prototype.getOwner=function(){var t=this._owner;return this._ownerKey?t:t&&t._owner},Object.defineProperty(e.prototype,"id",{get:function(){return this.attributes[this.idAttribute]},set:function(t){Object(s.t)(this,this.idAttribute,t)},enumerable:!0,configurable:!0}),e.prototype.forEachAttr=function(t,e){var n,r=this._attributes;for(var i in t){var o=r[i];o?e(t[i],i,o):(n||(n=[]),n.push("'"+i+"'"))}n&&this._log("warn","attributes "+n.join(", ")+" are not defined",{attributes:t})},e.prototype.each=function(t,e){var n=void 0!==e?function(n,r){return t.call(e,n,r)}:t,r=this.attributes;for(var i in this.attributes){var o=r[i];void 0!==o&&n(o,i)}},e.prototype.keys=function(){var t=[];return this.each(function(e,n){return void 0===e||t.push(n)}),t},e.prototype.values=function(){return this.map(function(t){return t})},e.prototype._toJSON=function(){return{}},e.prototype._parse=function(t){return t},e.prototype.defaults=function(t){var e={},n=this._attributes;for(var r in n){var i=t[r];e[r]=void 0===i?n[r].defaultValue():i}return e},e.prototype.initialize=function(t,e){},e.prototype.clone=function(t){void 0===t&&(t={});var e=new this.constructor(this.attributes,{clone:!0});return t.pinStore&&(e._defaultStore=this.getStore()),e},e.prototype.deepClone=function(){return this.clone()},e.prototype._validateNested=function(t){var e=this,n=0;return this.forEachAttr(this.attributes,function(r,i,o){var s=o.validate(e,r,i);s&&(t[i]=s,n++)}),n},e.prototype.get=function(t){return this[t]},e.prototype.toJSON=function(){var t=this,e={};return this.forEachAttr(this.attributes,function(n,r,i){var o=i.toJSON;if(void 0!==n){var s=o.call(t,n,r);void 0!==s&&(e[r]=s)}}),e},e.prototype.parse=function(t,e){return this._parse(t)},e.prototype.deepSet=function(t,e,n){var r=this;return this.transaction(function(){for(var i=t.split("."),o=i.length-1,s=i[o],u=r,a=0;a<o;a++){var c=i[a],f=u.get?u.get(c):u[c];if(!f){var h=u._attributes;if(!h)return;var l=h[c].create();n&&n.nullify&&l._attributes&&l.clear(n),u[c]=f=l}u=f}u.set?u.set((p={},p[s]=e,p),n):u[s]=e;var p}),this},Object.defineProperty(e.prototype,"collection",{get:function(){return this._ownerKey?null:this._owner},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;this._disposed||(this.forEachAttr(this.attributes,function(t,n,r){r.dispose(e,t)}),t.prototype.dispose.call(this))},e.prototype._log=function(t,e,n){i.m.log(t,"[Record] "+e,a({Record:this,"Attributes definition:":this._attributes},n))},e.prototype.getClassName=function(){return t.prototype.getClassName.call(this)||"Record"},e.prototype._createTransaction=function(t,e){},e}(o.b);d=b=c([Object(i.f)({cidPrefix:"m",_changeEventName:"change",idAttribute:"id"}),Object(i.h)({defaults:i.j.merge,attributes:i.j.merge,collection:i.j.merge,Collection:i.j.value,idAttribute:i.j.protoValue})],d),f(d.prototype,s.n);var v=function(){function t(t,e,n){this.id=e.id}return t}();d.prototype.Attributes=v;var y=function(){function t(t){this.id=t.id}return t}();d.prototype.AttributesCopy=y;var g=s.b.create({value:void 0},"id");d.prototype._attributes={id:g},d.prototype._attributesArray=[g],d.prototype.defaults=function(t){return void 0===t&&(t={}),{id:t.id}},d._attribute=s.a;var b},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(4),i=n(1),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=i.c.free,u=i.c.aquire,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.clone=function(t){return t?t.clone():t},e.prototype.toJSON=function(t){return t&&t.toJSON()},e.prototype.doInit=function(t,e,n){var r=n.clone?this.clone(t):void 0===t?this.defaultValue():t,i=this.transform(r,void 0,e,n);return this.handleChange(i,void 0,e,n),i},e.prototype.doUpdate=function(t,e,n,r){var i,o=this.name,s=e.attributes,u=s[o];if(i=this.canBeUpdated(u,t,n)){var a=u._createTransaction(i,n);return!(!a||(r?r.push(a):a.commit(e),!this.propagateChanges))}var c=this.transform(t,u,e,n);return s[o]=c,!!this.isChanged(c,u)&&(this.handleChange(c,u,e,n),!0)},e.prototype.canBeUpdated=function(t,e,n){if(t&&null!=e){if(!(e instanceof this.type))return e;if(n.merge)return e.__inner_state__}},e.prototype.convert=function(t,e,n,r){return null==t?t:t instanceof this.type?(!t._shared||t._shared&i.a.persistent||this._log("error","aggregated collection attribute is assigned with shared collection",t,n),r.merge?t.clone():t):this.type.create(t,r)},e.prototype.dispose=function(t,e){e&&this.handleChange(void 0,e,t,{})},e.prototype.validate=function(t,e){var n=e&&e.validationError;if(n)return n},e.prototype.create=function(){return this.type.create()},e.prototype.initialize=function(t){t.changeHandlers.unshift(this._handleChange)},e.prototype._handleChange=function(t,e,n){e&&(s(n,e),e.dispose()),t&&!u(n,t,this.name)&&this._log("error","aggregated attribute assigned with object already having an owner",t,n)},e}(r.a)},function(t,e,n){"use strict";function r(t){return!isNaN(new Date(t).getTime())}function i(t){var e,n,r=0;if(n=p.exec(t)){for(var i,o=0;i=l[o];++o)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*n[10]+n[11],"+"===n[9]&&(r=0-r)),e=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else e=Date.parse(t);return e}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h});var o=n(4),s=n(14),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=(Date.prototype,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.create=function(){return new Date},e.prototype.convert=function(t,e,n){if(null==t||t instanceof Date)return t;var r=new Date(t),i=r.getTime();return i!==i&&this._log("warn","assigned with Invalid Date",t,n),r},e.prototype.validate=function(t,e,n){if(null!=e){var r=e.getTime();if(r!==r)return n+" is Invalid Date"}},e.prototype.toJSON=function(t){return t&&t.toISOString()},e.prototype.isChanged=function(t,e){return(t&&t.getTime())!==(e&&e.getTime())},e.prototype.doInit=function(t,e,n){return this.transform(void 0===t?this.defaultValue():t,void 0,e,n)},e.prototype.doUpdate=function(t,e,n,r){var i=this.name,o=e.attributes,s=o[i];return this.isChanged(s,o[i]=this.transform(t,s,e,n))},e.prototype.clone=function(t){return t&&new Date(t.getTime())},e.prototype.dispose=function(){},e}(o.a));Date._attribute=a;var c=/\/Date\(([0-9]+)\)\//,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.convert=function(t){if("string"==typeof t){var e=c.exec(t);if(e)return new Date(Number(e[1]))}return a.prototype.convert.apply(this,arguments)},e.prototype.toJSON=function(t){return t&&"/Date("+t.getTime()+")/"},e}(a),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.toJSON=function(t){return t&&t.getTime()},e}(a);Object.defineProperties(Date,{microsoft:{get:function(){return new s.a({type:Date,_attribute:f})}},timestamp:{get:function(){return new s.a({type:Date,_attribute:h})}}}),r("2011-11-29T15:52:30.5")&&r("2011-11-29T15:52:30.52")&&r("2011-11-29T15:52:18.867")&&r("2011-11-29T15:52:18.867Z")&&r("2011-11-29T15:52:18.867-03:30")||(a.prototype.convert=function(t){return null==t||t instanceof Date?t:new Date(i(t))});var l=[1,4,5,6,7,10,11],p=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/},function(t,e,n){"use strict";function r(t){return t?Math.round(t):0}function i(){}n.d(e,"e",function(){return c}),n.d(e,"c",function(){return f}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return l}),e.f=i,n.d(e,"b",function(){return p});var o=n(4),s=n(0),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.create=function(){return new this.type},e.prototype.convert=function(t){return null==t||t instanceof this.type?t:new this.type(t)},e.prototype.toJSON=function(t){return t&&t.toJSON?t.toJSON():t},e.prototype.clone=function(t){return new this.type(this.toJSON(t))},e.prototype.isChanged=function(t,e){return t!==e},e}(o.a);Function.prototype._attribute=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.dispose=function(){},e.prototype.create=function(){return this.type()},e.prototype.toJSON=function(t){return t},e.prototype.convert=function(t){return null==t?t:this.type(t)},e.prototype.isChanged=function(t,e){return t!==e},e.prototype.clone=function(t){return t},e.prototype.doInit=function(t,e,n){return this.transform(void 0===t?this.value:t,void 0,e,n)},e.prototype.doUpdate=function(t,e,n,r){var i=this.name,o=e.attributes,s=o[i];return s!==(o[i]=this.transform(t,s,e,n))},e.prototype.initialize=function(){this.options.hasCustomDefault||(this.value=this.type())},e}(o.a);Boolean._attribute=String._attribute=c;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.create=function(){return 0},e.prototype.convert=function(t,e,n){var r=null==t?t:this.type(t);return r!==r&&this._log("warn","assigned with Invalid Number",t,n),r},e.prototype.validate=function(t,e,n){if(null!=e&&!isFinite(e))return n+" is not valid number"},e}(c);Number._attribute=f,r._attribute=f,Number.integer=r,"undefined"!=typeof window&&(window.Integer=Number.integer);var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.toJSON=function(t){return t},e.prototype.dispose=function(){},e.prototype.create=function(){return[]},e.prototype.convert=function(t,e,n){return null==t||Array.isArray(t)?t:(this._log("warn","non-array assignment is ignored",t,n),[])},e.prototype.clone=function(t){return t&&t.slice()},e}(o.a);Array._attribute=h;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.toJSON=function(t){return t},e.prototype.dispose=function(){},e.prototype.create=function(){return{}},e.prototype.convert=function(t,e,n){return null==t||t.constructor===Object?t:(this._log("warn","non-object assignment is ignored",t,n),{})},e.prototype.clone=function(t){return t&&s.m.assign({},t)},e}(o.a);Object._attribute=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.toJSON=function(t){},e.prototype.create=function(){return i},e.prototype.convert=function(t,e,n){return null==t||"function"==typeof t?t:(this._log("warn","assigned with non-function",t,n),i)},e.prototype.clone=function(t){return t},e}(o.a);Function._attribute=p},function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return p});var i=n(4),o=n(1),s=n(0),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=s.i.on,c=s.i.off,f=o.c.free,h=o.c.aquire,l=o.a.listen|o.a.share,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.doInit=function(t,e,n){var r=n.clone?this.clone(t,e):void 0===t?this.defaultValue():t,i=this.transform(r,void 0,e,n);return this.handleChange(i,void 0,e,n),i},e.prototype.doUpdate=function(t,e,n,r){var i,o=this.name,s=e.attributes,u=s[o];if(i=this.canBeUpdated(u,t,n)){var a=u._createTransaction(i,n);return!(!a||(r?r.push(a):a.commit(e),!this.propagateChanges))}var c=this.transform(t,u,e,n);return s[o]=c,!!this.isChanged(c,u)&&(this.handleChange(c,u,e,n),!0)},e.prototype.clone=function(t,e){if(!t||t._owner!==e)return t;var n=t.clone();return h(e,n,this.name),n},e.prototype.toJSON=function(){},e.prototype.canBeUpdated=function(t,e,n){if(t&&null!=e&&!(e instanceof this.type))return e},e.prototype.convert=function(t,e,n,r){if(null==t||t instanceof this.type)return t;var i=new this.type(t,r,l);return h(n,i,this.name),i},e.prototype.validate=function(t,e,n){},e.prototype.create=function(){return null},e.prototype._handleChange=function(t,e,n){e&&(e._owner===n?(f(n,e),e.dispose()):c(e,e._changeEventName,this._onChange,n)),t&&t._owner!==n&&a(t,t._changeEventName,this._onChange,n)},e.prototype.dispose=function(t,e){e&&this.handleChange(void 0,e,t,{})},e.prototype.initialize=function(t){var e=this;this._onChange=this.propagateChanges?function(t,n,r){this===r||this.forceAttributeChange(e.name,n)}:r,t.changeHandlers.unshift(this._handleChange)},e}(i.a)},function(t,e,n){"use strict";function r(t,e,n,r){var o=c(t),u=[],l=s(t,e,u,n,r);if(l.length||u.length){var p=i(t,l,n);if(h(t,n))return new a.a(t,o,l,[],u,p);t._aggregationError&&Object(a.g)(t)}o&&f(t)}function i(t,e,n){var r=n.at;if(null!=r){var i=t.models.length-e.length;return r=Number(r),r<0&&(r+=i+1),r<0&&(r=0),r>i&&(r=i),o(t.models,r,e),!1}return Object(a.i)(t,n)}function o(t,e,n){for(var r=t.length-1,i=r-n.length;i>=e;i--,r--)t[r]=t[i];for(i=0,r=e;i<n.length;i++,r++)t[r]=n[i]}function s(t,e,n,r,i){for(var o=t._byId,s=t.models,u=(i||r.merge)&&!t._shared,c=(r.parse,t.model.prototype.idAttribute),f=s.length,h=0,l=e;h<l.length;h++){var p=l[h],d=p?o[p[c]]||o[p.cid]:null;if(d){if(u&&p!==d){var v=p.attributes||p,y=d._createTransaction(v,r);y&&n.push(y),d.hasChanged(c)&&Object(a.j)(o,d)}}else d=Object(a.c)(t,p,r),s.push(d),Object(a.b)(o,d)}return s.slice(f)}e.a=r;var u=n(1),a=n(8),c=u.c.begin,f=u.c.commit,h=u.c.markAsDirty},function(t,e,n){"use strict";function r(t,e,n,r){var i=f(t),o=u(t,e,n);if(o.length){var s=Object(c.i)(t,n);if(l(t,r?p:n))return new c.a(t,i,o.slice(),[],[],s);t._aggregationError&&Object(c.g)(t)}i&&h(t)}function i(t,e,n){var r=f(t),i=[],u=t.models,a=s(t,e,i,n),p=t.models.length-a.length,d=p<u.length?p?o(t,u):Object(c.f)(t,u):[],v=i.length||a.length,y=Object(c.i)(t,n)&&v||a.length||n.sorted;if(v||d.length||y){if(l(t,n))return new c.a(t,r,a,d,i,y);t._aggregationError&&Object(c.g)(t)}r&&h(t)}function o(t,e){for(var n=t._byId,r=[],i=0,o=e;i<o.length;i++){var s=o[i];n[s.cid]||(r.push(s),Object(c.e)(t,s))}return r}function s(t,e,n,r){for(var i=Array(e.length),o={},s=(null==r.merge||r.merge)&&!t._shared,u=t._byId,a=t.models,f=t.model.prototype.idAttribute,h=[],l=!0,p=0,d=0;p<e.length;p++){var v=e[p],y=null;if(v){var g=v[f],b=v.cid;if(o[g]||o[b])continue;y=u[g]||u[b]}if(y){if(s&&v!==y){l&&a[d]!==y&&(l=!1);var m=v.attributes||v,_=y._createTransaction(m,r);_&&n.push(_)}}else y=Object(c.c)(t,v,r),h.push(y);i[d++]=y,Object(c.b)(o,y)}return i.length=d,t.models=i,t._byId=o,l||(r.sorted=!0),h}function u(t,e,n){for(var r=e?e.length:0,i=Array(r),o={},s=t.model.prototype.idAttribute,u=0,a=0;u<r;u++){var f=e[u];if(!f||!o[f[s]]&&!o[f.cid]){var h=Object(c.c)(t,f,n);i[a++]=h,Object(c.b)(o,h)}}return i.length=a,t._byId=o,t.models=i}e.a=r,e.b=i;var a=n(1),c=n(8),f=a.c.begin,h=a.c.commit,l=a.c.markAsDirty,p={silent:!0}},function(t,e,n){"use strict";function r(t,e,n){var r=t.get(e);if(r){var i=p(t),o=t.models;o.splice(o.indexOf(r),1),Object(u.h)(t._byId,r);var s=l(t,n);return s&&(h(r,"remove",r,t,n),h(t,"remove",r,t,n)),Object(u.e)(t,r,n.unset),s&&f(t,"update",t,n),i&&d(t),r}}function i(t,e,n){var r=o(t,e);if(r.length){var i=p(t);if(s(t,r.length),l(t,n)){new u.a(t,i,[],r,[],!1).commit()}else i&&d(t)}return r}function o(t,e){for(var n=Array(e.length),r=t._byId,i=0,o=0;i<e.length;i++){var s=t.get(e[i]);s&&(n[o++]=s,Object(u.h)(r,s),Object(u.e)(t,s))}return n.length=o,n}function s(t,e){for(var n=t.models,r=t.models=Array(n.length-e),i=t._byId,o=0,s=0;o<n.length;o++){var u=n[o];i[u.cid]&&(r[s++]=u)}r.length=s}e.b=r,e.a=i;var u=n(8),a=n(0),c=n(1),f=a.i.trigger2,h=a.i.trigger3,l=c.c.markAsDirty,p=c.c.begin,d=c.c.commit},function(t,e,n){"use strict";var r=(n(32),n(33),n(34));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(2),i=n(16),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toJSON=function(t){return t&&"object"==typeof t?t.id:t},e.prototype.clone=function(t){return t&&"object"==typeof t?t.id:t},e.prototype.isChanged=function(t,e){return(t&&(null==t.id?t:t.id))!==(e&&(null==e.id?e:e.id))},e.prototype.validate=function(t,e,n){},e}(r.b);r.k.from=function(t){var e=Object(i.a)(t);return new r.d({value:null,_attribute:s}).get(function(t,n){if("object"==typeof t)return t;var r=e(this),i=null;return r&&r.length&&(i=r.get(t)||null,this.attributes[n]=i,i&&this._attributes[n].handleChange(i,null,this,{})),i})}},function(t,e,n){"use strict";function r(t){var e=function(t){function e(e,n){var r=t.call(this,[],n,d)||this;return r.resolvedWith=null,r.refs=s(e),r}return l(e,t),Object.defineProperty(e.prototype,"__inner_state__",{get:function(){return this.refs||this.models},enumerable:!0,configurable:!0}),e.prototype.add=function(e,n){var r=this.resolvedWith,o=s(e);if(r)return t.prototype.add.call(this,i(r,o),n);if(o.length){var u=h.c.begin(this);this.refs=this.refs?this.refs.concat(o):o,h.c.markAsDirty(this,n),u&&h.c.commit(this)}},e.prototype.reset=function(e,n){var r=this.resolvedWith,u=s(e);return r?t.prototype.reset.call(this,i(r,u),n):o(this,u,n)||[]},e.prototype._createTransaction=function(e,n){var r=this.resolvedWith,u=s(e);return r?t.prototype._createTransaction.call(this,i(r,u),n):o(this,u,n)},e.prototype.toJSON=function(){return this.refs?this.refs.map(function(t){return t.id||t}):this.models.map(function(t){return t.id})},e.prototype._validateNested=function(){return 0},e.prototype.clone=function(t){var e=this.constructor,n=new e([],{model:this.model,comparator:this.comparator});return this.resolvedWith?(n.resolvedWith=this.resolvedWith,n.reset(this.models,{silent:!0})):n.refs=this.refs,n},e.prototype.parse=function(t){return t},e.prototype.resolve=function(t){return t&&t.length&&(this.resolvedWith=t,this.refs&&(this.reset(this.refs,{silent:!0}),this.refs=null)),this},e.prototype.getModelIds=function(){return this.toJSON()},e.prototype.toggle=function(e,n){return t.prototype.toggle.call(this,this.resolvedWith.get(e),n)},e.prototype.addAll=function(){if(this.resolvedWith)return this.set(this.resolvedWith.models),this.models;throw new Error("Cannot add elemens because the subset collection is not resolved yet.")},e.prototype.toggleAll=function(){return this.length?this.reset():this.addAll()},e}(t);return e=p([a.f],e)}function i(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],s=t.get(o);s&&n.push(s)}return n}function o(t,e,n){if(a.m.notEqual(t.refs,e)){var r=h.c.begin(t);t.refs=e,h.c.markAsDirty(t,n),r&&h.c.commit(t)}}function s(t){return Array.isArray(t)?t:[t]}var u=n(15),a=n(0),c=n(16),f=n(2),h=n(1),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};a.m.fastDefaults;u.a.subsetOf=function(t){var e=this._SubsetOf||(this._SubsetOf=r(this)),n=Object(c.a)(t);return new f.d({type:e}).get(function(t){return!t||t.resolvedWith||t.resolve(n(this)),t})};var d=h.a.share|h.a.persistent},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(2),i=n(1),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=null,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStore=function(){return this},e.prototype.get=function(t){var e=this[t];return e||this===this._defaultStore?e:this._owner?this._owner.get(t):this._defaultStore.get(t)},Object.defineProperty(e,"global",{get:function(){return s},set:function(t){s&&s.dispose(),i.b.prototype._defaultStore=s=t},enumerable:!0,configurable:!0}),e}(r.k);u.global=new u},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t,e,n){switch(t){case 1:return function(){return o[e](this[n])};case 2:return function(t){return o[e](this[n],t)};case 3:return function(t,r){var s=this[n],u=i(t,this);return arguments.length>1?o[e](s,u,r):o[e](s,u)};case 4:return function(t,r,s){var u=this[n],a=i(t,this);return arguments.length>1?o[e](u,a,r,s):o[e](u,a)};default:return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.unshift(this[n]),o[e].apply(o,t)}}}function i(t,e){switch(typeof t){case"function":return t;case"string":return function(e){return e.get(t)};case"object":if(!(t instanceof e.model))return o.matches(t)}return t}n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u});var o=n(6),s=(n.n(o),{pick:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.pick(this,t)},escape:function(t){return o.escape(this[t])},matches:function(t){return!!o.iteratee(t,this)(this)},omit:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.mapObject(function(e,n){if(t.indexOf(n)<0)return e})},invert:function(){var t={};return this.each(function(e,n){return t[e]=n}),t},pairs:function(){return this.map(function(t,e){return[e,t]})},isEmpty:function(){return!this.values().length},chain:function(){return o.chain(this.mapObject(function(t){return t}))}}),u={where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)}};!function(t,e,n){o.each(n,function(n,i){o[i]&&(t[i]=r(n,i,e))})}(u,"models",{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,findIndex:3,findLastIndex:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3})},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return f});var r=n(9),i=n(6),o=(n.n(i),n(3)),s=n(17),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(s.b);c=a([Object(o.define)({getStore:o.Store.prototype.getStore,get:o.Store.prototype.get})],c);var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resolved={},e}return u(e,t),e.prototype.initialize=function(){var t=this;this.each(function(e,n){if(e){e.store=t;var r=e.fetch;if(r){var i=t;e.fetch=function(){return i._resolved[n]=r.apply(this,arguments)}}e instanceof s.a&&e.length&&(t._resolved[n]=!0)}})},e.prototype.fetch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],i=t.length?t:this.keys(),o=0,s=i;o<s.length;o++){var u=s[o],a=this.attributes[u];a&&a.fetch&&n.push(a.fetch())}var c=r.d.$;return c&&c.when&&c.when.apply(c,n)},e.prototype.fetchOnce=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],i=this,o=t.length?t:this.keys(),s=0,u=o;s<u.length;s++){var a=u[s],c=i.attributes[a];n.push(i._resolved[a]||c&&c.fetch&&c.fetch())}var f=r.d.$;return f&&f.when&&f.when.apply(f,n)},e.prototype.clear=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length?t:this.keys(),r=0,i=n;r<i.length;r++){var u=i[r],a=this.attributes[u];a instanceof s.a?a.reset():a instanceof o.Store?a.clear():a instanceof s.b&&a.set(a.defaults()),this._resolved[u]=!1}return this},e.onDefine=function(t,e){var n=t.defaults||t.attributes;i.each(n,function(t,e){t.has&&(n[e]=t.has.set(function(t){if(!t||!t.length){(this._resolved||(this._resolved={}))[e]=!1}return t}))}),s.b.onDefine.call(this,t,e)},e}(c);f=a([o.define],f)}])});
//# sourceMappingURL=index.js.map